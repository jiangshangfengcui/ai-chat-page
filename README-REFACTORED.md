# AI Chat Page - é‡æ„ç‰ˆæœ¬\n\nè¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ React + TypeScript + GraphQL + Axios é‡æ–°æ„å»ºçš„ AI èŠå¤©åº”ç”¨ã€‚\n\n## é¡¹ç›®ç‰¹æ€§\n\n- ğŸš€ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: React 18 + TypeScript + Axios\n- ğŸ¯ **æ¸…æ™°çš„æ¶æ„**: åˆ†ç¦»å…³æ³¨ç‚¹ï¼Œæ˜“äºç»´æŠ¤\n- ğŸ¨ **ç¾è§‚çš„ç•Œé¢**: ä¿æŒåŸæœ‰çš„æ¯›ç»ç’ƒæ•ˆæœå’Œæ¸å˜èƒŒæ™¯\n- ğŸ”Œ **GraphQL é›†æˆ**: ä½¿ç”¨ Axios å®ç° GraphQL å®¢æˆ·ç«¯\n- ğŸ“± **å“åº”å¼è®¾è®¡**: é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯\n- ğŸ›  **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œå›é€€æœºåˆ¶\n- ğŸ”„ **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ React Context å’Œ Hooks\n- âš¡ **ä¼˜åŒ–æ€§èƒ½**: åˆç†çš„ç»„ä»¶æ‹†åˆ†å’ŒçŠ¶æ€ç®¡ç†\n\n## é¡¹ç›®ç»“æ„\n\n```\nsrc/\nâ”œâ”€â”€ components/          # UI ç»„ä»¶\nâ”‚   â”œâ”€â”€ ChatWindow.tsx    # èŠå¤©çª—å£ç»„ä»¶\nâ”‚   â”œâ”€â”€ MessageBubble.tsx # æ¶ˆæ¯æ°”æ³¡ç»„ä»¶\nâ”‚   â”œâ”€â”€ MessageInput.tsx  # æ¶ˆæ¯è¾“å…¥ç»„ä»¶\nâ”‚   â”œâ”€â”€ ErrorBanner.tsx   # é”™è¯¯æç¤ºç»„ä»¶\nâ”‚   â””â”€â”€ LoadingSpinner.tsx # åŠ è½½åŠ¨ç”»ç»„ä»¶\nâ”œâ”€â”€ contexts/            # React Context\nâ”‚   â””â”€â”€ ChatContext.tsx   # èŠå¤©çŠ¶æ€ç®¡ç†\nâ”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks\nâ”‚   â””â”€â”€ useChatOperations.ts # èŠå¤©æ“ä½œ Hook\nâ”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘å±‚\nâ”‚   â””â”€â”€ chatService.ts    # èŠå¤©æœåŠ¡\nâ”œâ”€â”€ graphql/            # GraphQL ç›¸å…³\nâ”‚   â””â”€â”€ schema.ts         # GraphQL ç±»å‹å®šä¹‰å’ŒæŸ¥è¯¢\nâ”œâ”€â”€ graphql-client/     # GraphQL å®¢æˆ·ç«¯\nâ”‚   â””â”€â”€ client.ts         # Axios GraphQL å®¢æˆ·ç«¯\nâ”œâ”€â”€ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶\nâ”œâ”€â”€ App.css             # æ ·å¼æ–‡ä»¶\nâ””â”€â”€ index.tsx           # åº”ç”¨å…¥å£\n```\n\n## ä¸»è¦æ”¹è¿›\n\n### 1. æ¶æ„é‡æ„\n- **åˆ†ç¦»å…³æ³¨ç‚¹**: å°† UIã€çŠ¶æ€ç®¡ç†ã€ä¸šåŠ¡é€»è¾‘åˆ†ç¦»\n- **æœåŠ¡å±‚**: åˆ›å»º `ChatService` å¤„ç†æ•°æ®æ“ä½œ\n- **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ React Context ç»Ÿä¸€ç®¡ç†çŠ¶æ€\n- **è‡ªå®šä¹‰ Hook**: å°è£…å¤æ‚é€»è¾‘ï¼Œæé«˜å¤ç”¨æ€§\n\n### 2. æŠ€æœ¯æ ˆå‡çº§\n- **ç§»é™¤ Apollo Client**: ä½¿ç”¨æ›´è½»é‡çš„ Axios\n- **ç±»å‹å®‰å…¨**: å®Œå–„çš„ TypeScript ç±»å‹å®šä¹‰\n- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶\n- **åŠ è½½çŠ¶æ€**: æ›´å¥½çš„åŠ è½½çŠ¶æ€ç®¡ç†\n\n### 3. ç”¨æˆ·ä½“éªŒä¼˜åŒ–\n- **è¿æ¥çŠ¶æ€æ˜¾ç¤º**: å®æ—¶æ˜¾ç¤ºæœåŠ¡å™¨è¿æ¥çŠ¶æ€\n- **é”™è¯¯æç¤º**: ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤ºæ¨ªå¹…\n- **åŠ è½½åŠ¨ç”»**: ä¼˜é›…çš„åŠ è½½çŠ¶æ€æ˜¾ç¤º\n- **é”®ç›˜æ”¯æŒ**: æ”¯æŒ Enter é”®å‘é€æ¶ˆæ¯\n\n## å®‰è£…å’Œè¿è¡Œ\n\n1. å®‰è£…ä¾èµ–ï¼š\n```bash\nnpm install\n# æˆ–\nyarn install\n```\n\n2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š\n```bash\nnpm start\n# æˆ–\nyarn start\n```\n\n3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š\n```bash\nnpm run build\n# æˆ–\nyarn build\n```\n\n## ç¯å¢ƒé…ç½®\n\nåœ¨ `.env` æ–‡ä»¶ä¸­é…ç½® GraphQL ç«¯ç‚¹ï¼š\n```\nREACT_APP_GRAPHQL_ENDPOINT=http://localhost:4000/graphql\n```\n\n## GraphQL API\n\nåº”ç”¨æ”¯æŒä»¥ä¸‹ GraphQL æ“ä½œï¼š\n\n### æŸ¥è¯¢æ¶ˆæ¯\n```graphql\nquery GetMessages {\n  messages {\n    id\n    content\n    sender\n    timestamp\n  }\n}\n```\n\n### å‘é€æ¶ˆæ¯\n```graphql\nmutation SendMessage($content: String!, $sender: String!) {\n  sendMessage(content: $content, sender: $sender) {\n    id\n    content\n    sender\n    timestamp\n  }\n}\n```\n\n## é…åˆ Worker ä½¿ç”¨\n\næ­¤åº”ç”¨å¯ä»¥ä¸ä¹‹å‰åˆ›å»ºçš„ Cloudflare Worker é…åˆä½¿ç”¨ï¼š\n\n1. éƒ¨ç½² Worker åˆ° Cloudflare\n2. å°† `REACT_APP_GRAPHQL_ENDPOINT` è®¾ç½®ä¸º Worker çš„ URL + `/graphql`\n3. Worker ä¼šè‡ªåŠ¨å¤„ç† GraphQL è¯·æ±‚å¹¶è°ƒç”¨ DeepSeek API\n\n## æ ·å¼ä¿æŒ\n\n- ä¿æŒäº†åŸæœ‰çš„æ¯›ç»ç’ƒæ•ˆæœå’Œæ¸å˜èƒŒæ™¯\n- å“åº”å¼è®¾è®¡é€‚é…ä¸åŒå±å¹•å°ºå¯¸\n- æ·»åŠ äº†è¿æ¥çŠ¶æ€æŒ‡ç¤ºå™¨å’Œé”™è¯¯å¤„ç† UI\n- æ”¹è¿›äº†åŠ è½½çŠ¶æ€çš„è§†è§‰æ•ˆæœ\n\n## å¼€å‘è¯´æ˜\n\n- æ‰€æœ‰ç»„ä»¶éƒ½æœ‰å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰\n- ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶å’Œ Hooks\n- éµå¾ª React æœ€ä½³å®è·µ\n- ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•", "old_string": "# AI Chat Page - é‡æ„ç‰ˆæœ¬\n\nè¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ React + TypeScript + GraphQL + Axios é‡æ–°æ„å»ºçš„ AI èŠå¤©åº”ç”¨ã€‚\n\n## é¡¹ç›®ç‰¹æ€§\n\n- ğŸš€ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: React 18 + TypeScript + Axios\n- ğŸ¯ **æ¸…æ™°çš„æ¶æ„**: åˆ†ç¦»å…³æ³¨ç‚¹ï¼Œæ˜“äºç»´æŠ¤\n- ğŸ¨ **ç¾è§‚çš„ç•Œé¢**: ä¿æŒåŸæœ‰çš„æ¯›ç»ç’ƒæ•ˆæœå’Œæ¸å˜èƒŒæ™¯\n- ğŸ”Œ **GraphQL é›†æˆ**: ä½¿ç”¨ Axios å®ç° GraphQL å®¢æˆ·ç«¯\n- ğŸ“± **å“åº”å¼è®¾è®¡**: é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯\n- ğŸ›  **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œå›é€€æœºåˆ¶\n- ğŸ”„ **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ React Context å’Œ Hooks\n- âš¡ **ä¼˜åŒ–æ€§èƒ½**: åˆç†çš„ç»„ä»¶æ‹†åˆ†å’ŒçŠ¶æ€ç®¡ç†\n\n## é¡¹ç›®ç»“æ„\n\n```\nsrc/\nâ”œâ”€â”€ components/          # UI ç»„ä»¶\nâ”‚   â”œâ”€â”€ ChatWindow.tsx    # èŠå¤©çª—å£ç»„ä»¶\nâ”‚   â”œâ”€â”€ MessageBubble.tsx # æ¶ˆæ¯æ°”æ³¡ç»„ä»¶\nâ”‚   â”œâ”€â”€ MessageInput.tsx  # æ¶ˆæ¯è¾“å…¥ç»„ä»¶\nâ”‚   â”œâ”€â”€ ErrorBanner.tsx   # é”™è¯¯æç¤ºç»„ä»¶\nâ”‚   â””â”€â”€ LoadingSpinner.tsx # åŠ è½½åŠ¨ç”»ç»„ä»¶\nâ”œâ”€â”€ contexts/            # React Context\nâ”‚   â””â”€â”€ ChatContext.tsx   # èŠå¤©çŠ¶æ€ç®¡ç†\nâ”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks\nâ”‚   â””â”€â”€ useChatOperations.ts # èŠå¤©æ“ä½œ Hook\nâ”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘å±‚\nâ”‚   â””â”€â”€ chatService.ts    # èŠå¤©æœåŠ¡\nâ”œâ”€â”€ graphql/            # GraphQL ç›¸å…³\nâ”‚   â””â”€â”€ schema.ts         # GraphQL ç±»å‹å®šä¹‰å’ŒæŸ¥è¯¢\nâ”œâ”€â”€ graphql-client/     # GraphQL å®¢æˆ·ç«¯\nâ”‚   â””â”€â”€ client.ts         # Axios GraphQL å®¢æˆ·ç«¯\nâ”œâ”€â”€ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶\nâ”œâ”€â”€ App.css             # æ ·å¼æ–‡ä»¶\nâ””â”€â”€ index.tsx           # åº”ç”¨å…¥å£\n```\n\n## ä¸»è¦æ”¹è¿›\n\n### 1. æ¶æ„é‡æ„\n- **åˆ†ç¦»å…³æ³¨ç‚¹**: å°† UIã€çŠ¶æ€ç®¡ç†ã€ä¸šåŠ¡é€»è¾‘åˆ†ç¦»\n- **æœåŠ¡å±‚**: åˆ›å»º `ChatService` å¤„ç†æ•°æ®æ“ä½œ\n- **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ React Context ç»Ÿä¸€ç®¡ç†çŠ¶æ€\n- **è‡ªå®šä¹‰ Hook**: å°è£…å¤æ‚é€»è¾‘ï¼Œæé«˜å¤ç”¨æ€§\n\n### 2. æŠ€æœ¯æ ˆå‡çº§\n- **ç§»é™¤ Apollo Client**: ä½¿ç”¨æ›´è½»é‡çš„ Axios\n- **ç±»å‹å®‰å…¨**: å®Œå–„çš„ TypeScript ç±»å‹å®šä¹‰\n- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶\n- **åŠ è½½çŠ¶æ€**: æ›´å¥½çš„åŠ è½½çŠ¶æ€ç®¡ç†\n\n### 3. ç”¨æˆ·ä½“éªŒä¼˜åŒ–\n- **è¿æ¥çŠ¶æ€æ˜¾ç¤º**: å®æ—¶æ˜¾ç¤ºæœåŠ¡å™¨è¿æ¥çŠ¶æ€\n- **é”™è¯¯æç¤º**: ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤ºæ¨ªå¹…\n- **åŠ è½½åŠ¨ç”»**: ä¼˜é›…çš„åŠ è½½çŠ¶æ€æ˜¾ç¤º\n- **é”®ç›˜æ”¯æŒ**: æ”¯æŒ Enter é”®å‘é€æ¶ˆæ¯\n\n## å®‰è£…å’Œè¿è¡Œ\n\n1. å®‰è£…ä¾èµ–ï¼š\n```bash\nnpm install\n# æˆ–\nyarn install\n```\n\n2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š\n```bash\nnpm start\n# æˆ–\nyarn start\n```\n\n3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š\n```bash\nnpm run build\n# æˆ–\nyarn build\n```\n\n## ç¯å¢ƒé…ç½®\n\nåœ¨ `.env` æ–‡ä»¶ä¸­é…ç½® GraphQL ç«¯ç‚¹ï¼š\n```\nREACT_APP_GRAPHQL_ENDPOINT=http://localhost:4000/graphql\n```\n\n## GraphQL API\n\nåº”ç”¨æ”¯æŒä»¥ä¸‹ GraphQL æ“ä½œï¼š\n\n### æŸ¥è¯¢æ¶ˆæ¯\n```graphql\nquery GetMessages {\n  messages {\n    id\n    content\n    sender\n    timestamp\n  }\n}\n```\n\n### å‘é€æ¶ˆæ¯\n```graphql\nmutation SendMessage($content: String!, $sender: String!) {\n  sendMessage(content: $content, sender: $sender) {\n    id\n    content\n    sender\n    timestamp\n  }\n}\n```\n\n## é…åˆ Worker ä½¿ç”¨\n\næ­¤åº”ç”¨å¯ä»¥ä¸ä¹‹å‰åˆ›å»ºçš„ Cloudflare Worker é…åˆä½¿ç”¨ï¼š\n\n1. éƒ¨ç½² Worker åˆ° Cloudflare\n2. å°† `REACT_APP_GRAPHQL_ENDPOINT` è®¾ç½®ä¸º Worker çš„ URL + `/graphql`\n3. Worker ä¼šè‡ªåŠ¨å¤„ç† GraphQL è¯·æ±‚å¹¶è°ƒç”¨ DeepSeek API\n\n## æ ·å¼ä¿æŒ\n\n- ä¿æŒäº†åŸæœ‰çš„æ¯›ç»ç’ƒæ•ˆæœå’Œæ¸å˜èƒŒæ™¯\n- å“åº”å¼è®¾è®¡é€‚é…ä¸åŒå±å¹•å°ºå¯¸\n- æ·»åŠ äº†è¿æ¥çŠ¶æ€æŒ‡ç¤ºå™¨å’Œé”™è¯¯å¤„ç† UI\n- æ”¹è¿›äº†åŠ è½½çŠ¶æ€çš„è§†è§‰æ•ˆæœ\n\n## å¼€å‘è¯´æ˜\n\n- æ‰€æœ‰ç»„ä»¶éƒ½æœ‰å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰\n- ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶å’Œ Hooks\n- éµå¾ª React æœ€ä½³å®è·µ\n- ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•"